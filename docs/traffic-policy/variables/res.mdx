import ConfigExample from "../../../src/components/ConfigExample.tsx";

## Response Variables

The following variables are available under the `res` namespace:

| Name                                                        | Type                   | Description                                                                         |
| ----------------------------------------------------------- | ---------------------- | ----------------------------------------------------------------------------------- |
| [`res.content_encoding`](#rescontent_encoding)              | list[string]           | The encoding set in the Content-Encoding header for this response as a list.        |
| [`res.content_length`](#rescontent_length)                  | int64                  | The length of the content associated with the response.                             |
| [`res.content_type`](#rescontent_type)                      | string                 | The media type set in the Content-Type header for this response as a string.        |
| [`res.content_type.parameters`](#rescontent_typeparameters) | map[string]string      | The parameters set in the Content-Type header for this response as a key value map. |
| [`res.content_type.raw`](#rescontent_typeraw)               | string                 | The Content-Type header for this response as a string.                              |
| [`res.cookies`](#rescookies)                                | map[string]http.Cookie | The key value map of HTTP cookie objects provided in the response.                  |
| [`res.cookies[k][i].attributes`](#rescookieskiattributes)   | map[string]string      | The key value map of the attributes of the cookie.                                  |
| [`res.cookies[k][i].domain`](#rescookieskidomain)           | string                 | The domain for which the cookie is valid.                                           |
| [`res.cookies[k][i].expires`](#rescookieskiexpires)         | timestamp              | The expiration time of the cookie.                                                  |
| [`res.cookies[k][i].http_only`](#rescookieskihttp_only)     | boolean                | True if the cookie is accessible only through the HTTP protocol.                    |
| [`res.cookies[k][i].max_age`](#rescookieskimax_age)         | duration               | The max age of the cookie.                                                          |
| [`res.cookies[k][i].name`](#rescookieskiname)               | string                 | The name of the cookie.                                                             |
| [`res.cookies[k][i].path`](#rescookieskipath)               | string                 | The path for which the cookie applies.                                              |
| [`res.cookies[k][i].same_site`](#rescookieskisame_site)     | string                 | The SameSite attribute of the cookie.                                               |
| [`res.cookies[k][i].secure`](#rescookieskisecure)           | boolean                | True if the cookie should only be sent over HTTPS.                                  |
| [`res.cookies[k][i].value`](#rescookieskivalue)             | string                 | The value of the cookie.                                                            |
| [`res.headers`](#resheaders)                                | map[string][]string    | The response headers parsed as a map of lower-case names to values.                 |
| [`res.location`](#reslocation)                              | string                 | The location header value of this response.                                         |
| [`res.status_code`](#resstatus_code)                        | int32                  | The status code of this response.                                                   |
| [`res.trailers`](#restrailers)                              | map[string][]string    | The response trailers parsed as a map of lower-case names to values.                |

### `res.content_encoding`

The encoding set in the Content-Encoding header for this response as a list.

<ConfigExample
	config={{
		expressions: ["res.content_encoding[0] == 'br'"],
	}}
/>

### `res.content_length`

The length of the content associated with the response.

<ConfigExample
	config={{
		expressions: ["res.content_length != 0"],
	}}
/>

### `res.content_type`

The media type set in the Content-Type header for this response as a string.

<ConfigExample
	config={{
		expressions: ["res.content_type == 'application/json'"],
	}}
/>

### `res.content_type.parameters`

The parameters set in the Content-Type header for this response as a key value map.

<ConfigExample
	config={{
		expressions: ["res.content_type.parameters['charset'] == 'utf-8'"],
	}}
/>

### `res.content_type.raw`

The Content-Type header for this response as a string.

<ConfigExample
	config={{
		expressions: ["res.content_type.raw == 'application/json; charset=utf-8'"],
	}}
/>

### `res.cookies`

The key value map of HTTP cookie objects provided in the response.

<ConfigExample
	config={{
		expressions: ["size(res.cookies) > 0"],
	}}
/>

### `res.cookies[k][i].attributes`

The key value map of the attributes of the cookie.

<ConfigExample
	config={{
		expressions: [
			"res.cookies['sessionId'][0].attributes['Domain'] == nba.com",
		],
	}}
/>

### `res.cookies[k][i].domain`

The domain for which the cookie is valid.

<ConfigExample
	config={{
		expressions: ["res.cookies['sessionId'][0].domain == 'nba.com'"],
	}}
/>

### `res.cookies[k][i].expires`

The expiration time of the cookie.

<ConfigExample
	config={{
		expressions: ["res.cookies['sessionId'][0].expires > timestamp(time.now)"],
	}}
/>

### `res.cookies[k][i].http_only`

True if the cookie is accessible only through the HTTP protocol.

<ConfigExample
	config={{
		expressions: ["res.cookies['sessionId'][0].http_only"],
	}}
/>

### `res.cookies[k][i].max_age`

The max age of the cookie.

<ConfigExample
	config={{
		expressions: ["res.cookies['sessionId'][0].max_age > duration(3600)"],
	}}
/>

### `res.cookies[k][i].name`

The name of the cookie.

<ConfigExample
	config={{
		expressions: ["res.cookies['sessionId'][0].name == 'sessionId'"],
	}}
/>

### `res.cookies[k][i].path`

The path for which the cookies applies.

<ConfigExample
	config={{
		expressions: ["res.cookies['sessionId'][0].path == '/"],
	}}
/>

### `res.cookies[k][i].same_site`

The SameSite attribute of the cookie.

<ConfigExample
	config={{
		expressions: ["res.cookies['sessionId'][0].same_site > 0"],
	}}
/>

### `res.cookies[k][i].secure`

True if the cookie shuold only be sent over HTTPS.

<ConfigExample
	config={{
		expressions: ["res.cookies['sessionId'][0].secure"],
	}}
/>

### `res.cookies[k][i].value`

The value of the cookie.

<ConfigExample
	config={{
		expressions: ["res.cookies['sessionId'][0].value > 0"],
	}}
/>

### `res.headers`

The headers of the response parsed as key maps to a list of values. Header keys must be written in canonical format.

<ConfigExample
	config={{
		expressions: ["'Fizz' in res.headers['baz']"],
	}}
/>

### `res.location`

The location header value of the response.

<ConfigExample
	config={{
		expressions: ["res.location == '/index.html'"],
	}}
/>

### `res.status_code`

The status code of this response.

<ConfigExample
	config={{
		expressions: ["res.status_code >= 300"],
	}}
/>

### `res.trailers`

The trailers of the response parsed as key maps to a list of values. Trailer keys must be written in canonical format.

<ConfigExample
	config={{
		expressions: ["'fizz' in res.trailers['baz']"],
	}}
/>
